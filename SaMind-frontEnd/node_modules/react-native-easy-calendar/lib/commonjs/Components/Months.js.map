{"version":3,"sources":["Months.tsx"],"names":["Months","MonthComponent","CustomMonth","onPressMonth","dateProperties","visibleDate","minDate","maxDate","theme","React","useContext","ThemeContext","locale","LocaleContext","monthsOfVisibleYear","startOf","endOf","selectedMonths","Object","entries","reduce","selected","date","properties","isSelected","month","format","Month","DefaultMonth","monthsContainer","map","index","isAfter","isBefore","memo"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AAGA;;AACA;;AAEA;;;;;;;;AAiBA,MAAMA,MAAuB,GAAG,CAAC;AAC/BC,EAAAA,cAAc,EAAEC,WADe;AAE/BC,EAAAA,YAF+B;AAG/BC,EAAAA,cAH+B;AAI/BC,EAAAA,WAJ+B;AAK/BC,EAAAA,OAL+B;AAM/BC,EAAAA;AAN+B,CAAD,KAO1B;AACJ,QAAMC,KAAK,GAAGC,eAAMC,UAAN,CAAwBC,sBAAxB,CAAd;;AACA,QAAMC,MAAM,GAAGH,eAAMC,UAAN,CAAyBG,uBAAzB,CAAf;;AAEA,QAAMC,mBAAmB,GAAG,sBAC1BT,WAAW,CAACU,OAAZ,CAAoB,MAApB,CAD0B,EAE1BV,WAAW,CAACW,KAAZ,CAAkB,MAAlB,CAF0B,EAG1B,OAH0B,CAA5B;AAMA,QAAMC,cAAc,GAAG,oBAAQ,MAAM;AACnC,WAAOC,MAAM,CAACC,OAAP,CAAef,cAAf,EAA+BgB,MAA/B,CACL,CAACC,QAAD,EAAoC,CAACC,IAAD,EAAOC,UAAP,CAApC,KAA2D;AACzD,UAAIA,UAAU,CAACC,UAAf,EAA2B;AACzB,cAAMC,KAAK,GAAG,oBAAMH,IAAN,EAAYP,OAAZ,CAAoB,OAApB,EAA6BW,MAA7B,CAAoC,YAApC,CAAd;AACAL,QAAAA,QAAQ,CAACI,KAAD,CAAR,GAAkB,IAAlB;AACD;;AACD,aAAOJ,QAAP;AACD,KAPI,EAQL,EARK,CAAP;AAUD,GAXsB,EAWpB,CAACjB,cAAD,CAXoB,CAAvB;AAaA,QAAMuB,KAAK,GAAGzB,WAAW,IAAI0B,OAA7B;AACA,sBACE,6BAAC,iBAAD;AAAM,IAAA,KAAK,EAAEpB,KAAK,CAACqB,eAAnB;AAAoC,IAAA,MAAM,EAAE;AAA5C,KACGf,mBAAmB,CAACgB,GAApB,CAAwB,CAACL,KAAD,EAAQM,KAAR,KAAkB;AACzC,wBACE,6BAAC,KAAD;AACE,MAAA,GAAG,EAAEA,KADP;AAEE,MAAA,MAAM,EAAEnB,MAFV;AAGE,MAAA,IAAI,EAAEa,KAAK,CAACC,MAAN,CAAa,YAAb,CAHR;AAIE,MAAA,UAAU,EAAET,cAAc,CAACQ,KAAK,CAACC,MAAN,CAAa,YAAb,CAAD,CAJ5B;AAKE,MAAA,OAAO,EAAEvB,YALX;AAME,MAAA,UAAU,EACR,CAAC,EAAEI,OAAO,IAAIkB,KAAK,CAACV,OAAN,CAAc,OAAd,EAAuBiB,OAAvB,CAA+BzB,OAA/B,EAAwC,KAAxC,CAAb,CAAD,IACA,CAAC,EAAED,OAAO,IAAImB,KAAK,CAACT,KAAN,CAAY,OAAZ,EAAqBiB,QAArB,CAA8B3B,OAA9B,EAAuC,KAAvC,CAAb;AARL,MADF;AAaD,GAdA,CADH,CADF;AAmBD,CAlDD;;4BAoDeG,eAAMyB,IAAN,CAAWlC,MAAX,C","sourcesContent":["import React, { useMemo } from 'react';\nimport { View } from 'react-native';\nimport dayjs, { Dayjs } from 'dayjs';\n\nimport type { DateProperties, Theme, MonthComponentType, Locale } from '../Entities';\nimport { ThemeContext, LocaleContext } from '../Contexts';\nimport { dateRange } from '../Utils';\n\nimport { Month as DefaultMonth } from '.';\n\nexport interface Props {\n  MonthComponent?: MonthComponentType;\n  // Receives a start-of-month date in YYYY-MM-DD format (ex. 2020-01-01 for the month of January, 2020)\n  onPressMonth: (date: string) => void;\n  // YYYY-MM-DD format string respresenting the start-of-month date of currently visible month\n  visibleDate: Dayjs;\n  // YYYY-MM-DD format string respresenting the minimum date that can be selected\n  minDate?: string;\n  // YYYY-MM-DD format string respresenting the maximum date that can be selected\n  maxDate?: string;\n  dateProperties: {\n    [date: string /* YYYY-MM-DD */]: DateProperties;\n  };\n}\n\nconst Months: React.FC<Props> = ({\n  MonthComponent: CustomMonth,\n  onPressMonth,\n  dateProperties,\n  visibleDate,\n  minDate,\n  maxDate,\n}) => {\n  const theme = React.useContext<Theme>(ThemeContext);\n  const locale = React.useContext<Locale>(LocaleContext);\n\n  const monthsOfVisibleYear = dateRange(\n    visibleDate.startOf('year'),\n    visibleDate.endOf('year'),\n    'month'\n  );\n\n  const selectedMonths = useMemo(() => {\n    return Object.entries(dateProperties).reduce(\n      (selected: Record<string, boolean>, [date, properties]) => {\n        if (properties.isSelected) {\n          const month = dayjs(date).startOf('month').format('YYYY-MM-DD');\n          selected[month] = true;\n        }\n        return selected;\n      },\n      {}\n    );\n  }, [dateProperties]);\n\n  const Month = CustomMonth || DefaultMonth;\n  return (\n    <View style={theme.monthsContainer} testID={'months-container'}>\n      {monthsOfVisibleYear.map((month, index) => {\n        return (\n          <Month\n            key={index}\n            locale={locale}\n            date={month.format('YYYY-MM-DD')}\n            isSelected={selectedMonths[month.format('YYYY-MM-DD')]}\n            onPress={onPressMonth}\n            isDisabled={\n              !!(maxDate && month.startOf('month').isAfter(maxDate, 'day')) ||\n              !!(minDate && month.endOf('month').isBefore(minDate, 'day'))\n            }\n          />\n        );\n      })}\n    </View>\n  );\n};\n\nexport default React.memo(Months);\n"]}