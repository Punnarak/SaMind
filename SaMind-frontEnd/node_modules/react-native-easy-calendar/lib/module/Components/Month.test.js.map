{"version":3,"sources":["Month.test.tsx"],"names":["React","dayjs","LocaleData","render","fireEvent","ThemeContext","DefaultTheme","DefaultLocale","extend","Month","test","month","MonthPage","expect","component","toBeTruthy","onPress","jest","fn","press","toHaveBeenCalledTimes","describe","isDisabled","toBeDisabled","toBeEnabled","isSelected","toHaveStyle","theme","normalMonthContainer","not","selectedMonthContainer","disabledMonthContainer","text","normalMonthText","selectedMonthText","disabledMonthText","constructor","date","locale","getByLabelText","getByTestId","months","localeData","monthsShort","index","marginTop","backgroundColor","marginBottom","marginLeft","color","testLocale"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,UAAP,MAAuB,yBAAvB;AAEA,SAASC,MAAT,EAAiBC,SAAjB,QAAkC,+BAAlC;AAEA,SAASC,YAAT,QAA6B,aAA7B;AACA,SAASC,YAAT,QAA6B,WAA7B;AACA,SAASC,aAAT,QAA8B,YAA9B;AAEAN,KAAK,CAACO,MAAN,CAAaN,UAAb;AAEA,OAAOO,KAAP,MAA6B,SAA7B;AAEAC,IAAI,CAAC,6BAAD,EAAgC,MAAM;AACxC,QAAMC,KAAK,GAAG,IAAIC,SAAJ,CAAc,EAAd,CAAd;AACAC,EAAAA,MAAM,CAACF,KAAK,CAACG,SAAP,CAAN,CAAwBC,UAAxB;AACD,CAHG,CAAJ;AAKAL,IAAI,CAAC,+CAAD,EAAkD,MAAM;AAC1D,QAAMM,OAAO,GAAGC,IAAI,CAACC,EAAL,EAAhB;AACA,QAAMP,KAAK,GAAG,IAAIC,SAAJ,CAAc;AAAEI,IAAAA;AAAF,GAAd,CAAd;AACAZ,EAAAA,SAAS,CAACe,KAAV,CAAgBR,KAAK,CAACG,SAAtB;AACAD,EAAAA,MAAM,CAACG,OAAD,CAAN,CAAgBI,qBAAhB,CAAsC,CAAtC;AACD,CALG,CAAJ;AAOAC,QAAQ,CAAC,wBAAD,EAA2B,MAAM;AACvCX,EAAAA,IAAI,CAAC,+CAAD,EAAkD,MAAM;AAC1D,UAAMC,KAAK,GAAG,IAAIC,SAAJ,CAAc;AAAEU,MAAAA,UAAU,EAAE;AAAd,KAAd,CAAd;AACAT,IAAAA,MAAM,CAACF,KAAK,CAACG,SAAP,CAAN,CAAwBS,YAAxB;AACD,GAHG,CAAJ;AAKAb,EAAAA,IAAI,CAAC,+CAAD,EAAkD,MAAM;AAC1D,UAAMC,KAAK,GAAG,IAAIC,SAAJ,CAAc;AAAEU,MAAAA,UAAU,EAAE;AAAd,KAAd,CAAd;AACAT,IAAAA,MAAM,CAACF,KAAK,CAACG,SAAP,CAAN,CAAwBU,WAAxB;AACD,GAHG,CAAJ;AAID,CAVO,CAAR;AAYAH,QAAQ,CAAC,eAAD,EAAkB,MAAM;AAC9BX,EAAAA,IAAI,CAAC,iDAAD,EAAoD,MAAM;AAC5D,UAAMC,KAAK,GAAG,IAAIC,SAAJ,CAAc;AAAEU,MAAAA,UAAU,EAAE,KAAd;AAAqBG,MAAAA,UAAU,EAAE;AAAjC,KAAd,CAAd;AACAZ,IAAAA,MAAM,CAACF,KAAK,CAACG,SAAP,CAAN,CAAwBY,WAAxB,CAAoCC,KAAK,CAACC,oBAA1C;AACAf,IAAAA,MAAM,CAACF,KAAK,CAACG,SAAP,CAAN,CAAwBe,GAAxB,CAA4BH,WAA5B,CAAwCC,KAAK,CAACG,sBAA9C;AACAjB,IAAAA,MAAM,CAACF,KAAK,CAACG,SAAP,CAAN,CAAwBe,GAAxB,CAA4BH,WAA5B,CAAwCC,KAAK,CAACI,sBAA9C;AACD,GALG,CAAJ;AAOArB,EAAAA,IAAI,CAAC,oDAAD,EAAuD,MAAM;AAC/D,UAAMC,KAAK,GAAG,IAAIC,SAAJ,CAAc;AAAEU,MAAAA,UAAU,EAAE;AAAd,KAAd,CAAd;AACAT,IAAAA,MAAM,CAACF,KAAK,CAACG,SAAP,CAAN,CAAwBY,WAAxB,CAAoC,CAClCC,KAAK,CAACC,oBAD4B,EAElCD,KAAK,CAACI,sBAF4B,CAApC;AAIAlB,IAAAA,MAAM,CAACF,KAAK,CAACG,SAAP,CAAN,CAAwBe,GAAxB,CAA4BH,WAA5B,CAAwCC,KAAK,CAACG,sBAA9C;AACD,GAPG,CAAJ;AASApB,EAAAA,IAAI,CAAC,oDAAD,EAAuD,MAAM;AAC/D,UAAMC,KAAK,GAAG,IAAIC,SAAJ,CAAc;AAAEa,MAAAA,UAAU,EAAE;AAAd,KAAd,CAAd;AACAZ,IAAAA,MAAM,CAACF,KAAK,CAACG,SAAP,CAAN,CAAwBY,WAAxB,CAAoC,CAClCC,KAAK,CAACC,oBAD4B,EAElCD,KAAK,CAACG,sBAF4B,CAApC;AAIAjB,IAAAA,MAAM,CAACF,KAAK,CAACG,SAAP,CAAN,CAAwBe,GAAxB,CAA4BH,WAA5B,CAAwCC,KAAK,CAACI,sBAA9C;AACD,GAPG,CAAJ;AASArB,EAAAA,IAAI,CAAC,2EAAD,EAA8E,MAAM;AACtF,UAAMC,KAAK,GAAG,IAAIC,SAAJ,CAAc;AAAEa,MAAAA,UAAU,EAAE,IAAd;AAAoBH,MAAAA,UAAU,EAAE;AAAhC,KAAd,CAAd;AACAT,IAAAA,MAAM,CAACF,KAAK,CAACG,SAAP,CAAN,CAAwBY,WAAxB,CAAoC,CAClCC,KAAK,CAACC,oBAD4B,EAElCD,KAAK,CAACG,sBAF4B,EAGlCH,KAAK,CAACI,sBAH4B,CAApC;AAKD,GAPG,CAAJ;AASArB,EAAAA,IAAI,CAAC,4CAAD,EAA+C,MAAM;AACvD,UAAMC,KAAK,GAAG,IAAIC,SAAJ,CAAc;AAAEU,MAAAA,UAAU,EAAE,KAAd;AAAqBG,MAAAA,UAAU,EAAE;AAAjC,KAAd,CAAd;AACAZ,IAAAA,MAAM,CAACF,KAAK,CAACqB,IAAP,CAAN,CAAmBN,WAAnB,CAA+BC,KAAK,CAACM,eAArC;AACApB,IAAAA,MAAM,CAACF,KAAK,CAACqB,IAAP,CAAN,CAAmBH,GAAnB,CAAuBH,WAAvB,CAAmCC,KAAK,CAACO,iBAAzC;AACArB,IAAAA,MAAM,CAACF,KAAK,CAACqB,IAAP,CAAN,CAAmBH,GAAnB,CAAuBH,WAAvB,CAAmCC,KAAK,CAACQ,iBAAzC;AACD,GALG,CAAJ;AAOAzB,EAAAA,IAAI,CAAC,+CAAD,EAAkD,MAAM;AAC1D,UAAMC,KAAK,GAAG,IAAIC,SAAJ,CAAc;AAAEU,MAAAA,UAAU,EAAE;AAAd,KAAd,CAAd;AACAT,IAAAA,MAAM,CAACF,KAAK,CAACqB,IAAP,CAAN,CAAmBN,WAAnB,CAA+B,CAACC,KAAK,CAACM,eAAP,EAAwBN,KAAK,CAACQ,iBAA9B,CAA/B;AACAtB,IAAAA,MAAM,CAACF,KAAK,CAACqB,IAAP,CAAN,CAAmBH,GAAnB,CAAuBH,WAAvB,CAAmCC,KAAK,CAACO,iBAAzC;AACD,GAJG,CAAJ;AAMAxB,EAAAA,IAAI,CAAC,+CAAD,EAAkD,MAAM;AAC1D,UAAMC,KAAK,GAAG,IAAIC,SAAJ,CAAc;AAAEa,MAAAA,UAAU,EAAE;AAAd,KAAd,CAAd;AACAZ,IAAAA,MAAM,CAACF,KAAK,CAACqB,IAAP,CAAN,CAAmBN,WAAnB,CAA+B,CAACC,KAAK,CAACM,eAAP,EAAwBN,KAAK,CAACO,iBAA9B,CAA/B;AACArB,IAAAA,MAAM,CAACF,KAAK,CAACqB,IAAP,CAAN,CAAmBH,GAAnB,CAAuBH,WAAvB,CAAmCC,KAAK,CAACQ,iBAAzC;AACD,GAJG,CAAJ;AAMAzB,EAAAA,IAAI,CAAC,sEAAD,EAAyE,MAAM;AACjF,UAAMC,KAAK,GAAG,IAAIC,SAAJ,CAAc;AAAEa,MAAAA,UAAU,EAAE,IAAd;AAAoBH,MAAAA,UAAU,EAAE;AAAhC,KAAd,CAAd;AACAT,IAAAA,MAAM,CAACF,KAAK,CAACqB,IAAP,CAAN,CAAmBN,WAAnB,CAA+B,CAC7BC,KAAK,CAACM,eADuB,EAE7BN,KAAK,CAACO,iBAFuB,EAG7BP,KAAK,CAACQ,iBAHuB,CAA/B;AAKD,GAPG,CAAJ;AAQD,CA9DO,CAAR;;AAgEA,MAAMvB,SAAN,CAAgB;AAIdwB,EAAAA,WAAW,CAAC;AACVC,IAAAA,IAAI,GAAG,YADG;AAEVrB,IAAAA,OAAO,GAAG,MAAM,CAAE,CAFR;AAGVsB,IAAAA,MAAM,GAAG/B,aAHC;AAIVkB,IAAAA,UAAU,GAAG,KAJH;AAKVH,IAAAA,UAAU,GAAG;AALH,GAAD,EAMQ;AAAA;;AAAA;;AACjB,UAAM;AAAEiB,MAAAA,cAAF;AAAkBC,MAAAA;AAAlB,QAAkCrC,MAAM,eAC5C,oBAAC,YAAD,CAAc,QAAd;AAAuB,MAAA,KAAK,EAAEwB;AAA9B,oBACE,oBAAC,KAAD,EAAW;AAAEW,MAAAA,MAAF;AAAUD,MAAAA,IAAV;AAAgBrB,MAAAA,OAAhB;AAAyBS,MAAAA,UAAzB;AAAqCH,MAAAA;AAArC,KAAX,CADF,CAD4C,CAA9C;AAMA,UAAMmB,MAAM,GAAGxC,KAAK,CAACoC,IAAD,CAAL,CAAYK,UAAZ,GAAyBC,WAAzB,EAAf;AACA,UAAMC,KAAK,GAAG3C,KAAK,CAACoC,IAAD,CAAL,CAAY1B,KAAZ,EAAd;AAEA,SAAKG,SAAL,GAAiByB,cAAc,CAACE,MAAM,CAACG,KAAD,CAAP,CAA/B;AACA,SAAKZ,IAAL,GAAYQ,WAAW,CAAC,YAAD,CAAvB;AACD;;AAtBa,C,CAyBhB;;;AACA,MAAMb,KAAK,GAAG,EACZ,GAAGrB,YADS;AAEZsB,EAAAA,oBAAoB,EAAE;AACpBiB,IAAAA,SAAS,EAAE,EADS;AAEpBC,IAAAA,eAAe,EAAE;AAFG,GAFV;AAMZhB,EAAAA,sBAAsB,EAAE;AACtBiB,IAAAA,YAAY,EAAE,EADQ;AAEtBD,IAAAA,eAAe,EAAE;AAFK,GANZ;AAUZf,EAAAA,sBAAsB,EAAE;AACtBiB,IAAAA,UAAU,EAAE,EADU;AAEtBF,IAAAA,eAAe,EAAE;AAFK,GAVZ;AAcZb,EAAAA,eAAe,EAAE;AACfY,IAAAA,SAAS,EAAE,EADI;AAEfI,IAAAA,KAAK,EAAE;AAFQ,GAdL;AAkBZf,EAAAA,iBAAiB,EAAE;AACjBa,IAAAA,YAAY,EAAE,EADG;AAEjBE,IAAAA,KAAK,EAAE;AAFU,GAlBP;AAsBZd,EAAAA,iBAAiB,EAAE;AACjBa,IAAAA,UAAU,EAAE,EADK;AAEjBC,IAAAA,KAAK,EAAE;AAFU;AAtBP,CAAd;AA4BA,OAAO,MAAMC,UAAU,GAAG,EACxB,GAAG3C,aADqB;AAExBoC,EAAAA,WAAW,EAAE,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,EAAgB,GAAhB,EAAqB,GAArB,EAA0B,GAA1B,EAA+B,GAA/B,EAAoC,GAApC,EAAyC,GAAzC,EAA8C,GAA9C,EAAmD,GAAnD,EAAwD,GAAxD;AAFW,CAAnB","sourcesContent":["import React from 'react';\nimport dayjs from 'dayjs';\nimport LocaleData from 'dayjs/plugin/localeData';\nimport type { ReactTestInstance } from 'react-test-renderer';\nimport { render, fireEvent } from '@testing-library/react-native';\n\nimport { ThemeContext } from '../Contexts';\nimport { DefaultTheme } from '../Themes';\nimport { DefaultLocale } from '../Locales';\n\ndayjs.extend(LocaleData);\n\nimport Month, { Props } from './Month';\n\ntest('Month renders without error', () => {\n  const month = new MonthPage({});\n  expect(month.component).toBeTruthy();\n});\n\ntest('Component calls onPress callback when clicked', () => {\n  const onPress = jest.fn();\n  const month = new MonthPage({ onPress });\n  fireEvent.press(month.component);\n  expect(onPress).toHaveBeenCalledTimes(1);\n});\n\ndescribe('Enabling and disabling', () => {\n  test('Disable clicking if prop ´isDisabled´ is true', () => {\n    const month = new MonthPage({ isDisabled: true });\n    expect(month.component).toBeDisabled();\n  });\n\n  test('Enable clicking if prop ´isDisabled´ is false', () => {\n    const month = new MonthPage({ isDisabled: false });\n    expect(month.component).toBeEnabled();\n  });\n});\n\ndescribe('Theme context', () => {\n  test('Container applies normal theme in enabled state', () => {\n    const month = new MonthPage({ isDisabled: false, isSelected: false });\n    expect(month.component).toHaveStyle(theme.normalMonthContainer);\n    expect(month.component).not.toHaveStyle(theme.selectedMonthContainer);\n    expect(month.component).not.toHaveStyle(theme.disabledMonthContainer);\n  });\n\n  test('Container applies disabled theme in disabled state', () => {\n    const month = new MonthPage({ isDisabled: true });\n    expect(month.component).toHaveStyle([\n      theme.normalMonthContainer,\n      theme.disabledMonthContainer,\n    ]);\n    expect(month.component).not.toHaveStyle(theme.selectedMonthContainer);\n  });\n\n  test('Container applies selected theme in selected state', () => {\n    const month = new MonthPage({ isSelected: true });\n    expect(month.component).toHaveStyle([\n      theme.normalMonthContainer,\n      theme.selectedMonthContainer,\n    ]);\n    expect(month.component).not.toHaveStyle(theme.disabledMonthContainer);\n  });\n\n  test('Container applies selected + disabled themes in selected + disabled state', () => {\n    const month = new MonthPage({ isSelected: true, isDisabled: true });\n    expect(month.component).toHaveStyle([\n      theme.normalMonthContainer,\n      theme.selectedMonthContainer,\n      theme.disabledMonthContainer,\n    ]);\n  });\n\n  test('Text applies normal theme in enabled state', () => {\n    const month = new MonthPage({ isDisabled: false, isSelected: false });\n    expect(month.text).toHaveStyle(theme.normalMonthText);\n    expect(month.text).not.toHaveStyle(theme.selectedMonthText);\n    expect(month.text).not.toHaveStyle(theme.disabledMonthText);\n  });\n\n  test('Text applies disabled theme in disabled state', () => {\n    const month = new MonthPage({ isDisabled: true });\n    expect(month.text).toHaveStyle([theme.normalMonthText, theme.disabledMonthText]);\n    expect(month.text).not.toHaveStyle(theme.selectedMonthText);\n  });\n\n  test('Text applies selected theme in selected state', () => {\n    const month = new MonthPage({ isSelected: true });\n    expect(month.text).toHaveStyle([theme.normalMonthText, theme.selectedMonthText]);\n    expect(month.text).not.toHaveStyle(theme.disabledMonthText);\n  });\n\n  test('Text applies selected + disabled themes in selected + disabled state', () => {\n    const month = new MonthPage({ isSelected: true, isDisabled: true });\n    expect(month.text).toHaveStyle([\n      theme.normalMonthText,\n      theme.selectedMonthText,\n      theme.disabledMonthText,\n    ]);\n  });\n});\n\nclass MonthPage {\n  component: ReactTestInstance;\n  text: ReactTestInstance;\n\n  constructor({\n    date = '2020-01-01',\n    onPress = () => {},\n    locale = DefaultLocale,\n    isSelected = false,\n    isDisabled = false,\n  }: Partial<Props>) {\n    const { getByLabelText, getByTestId } = render(\n      <ThemeContext.Provider value={theme}>\n        <Month {...{ locale, date, onPress, isSelected, isDisabled }} />\n      </ThemeContext.Provider>\n    );\n\n    const months = dayjs(date).localeData().monthsShort();\n    const index = dayjs(date).month();\n\n    this.component = getByLabelText(months[index]);\n    this.text = getByTestId('month-text');\n  }\n}\n\n// Mix of properties which get overwritten and which don't\nconst theme = {\n  ...DefaultTheme,\n  normalMonthContainer: {\n    marginTop: 10,\n    backgroundColor: 'black',\n  },\n  selectedMonthContainer: {\n    marginBottom: 10,\n    backgroundColor: 'green',\n  },\n  disabledMonthContainer: {\n    marginLeft: 10,\n    backgroundColor: 'gray',\n  },\n  normalMonthText: {\n    marginTop: 10,\n    color: 'black',\n  },\n  selectedMonthText: {\n    marginBottom: 10,\n    color: 'green',\n  },\n  disabledMonthText: {\n    marginLeft: 10,\n    color: 'gray',\n  },\n};\n\nexport const testLocale = {\n  ...DefaultLocale,\n  monthsShort: ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L'],\n};\n"]}